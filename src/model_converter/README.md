# Конвертирование моделей с изменением размера пачки

## Описание скрипта

### Основная информация

Скрипт позволяет конвертировать модели в формат OpenVINO с изменением размера
пачки

### Алгоритм работы скрипта

Конвертация моделей проводится последовательно. Каждая конвертация
запускается в отдельном процессе.

### Результаты работы скрипта конвертации

Результатом конвертации являются сконвертированные модели с разным размером
пачки.

Иерархия папок моделей немного меняется, в пути создается папка с размером
пачки (например `/public/alexnet/FP32/1/`)

 - Модели с размером пачки 1 будут в папке <working_dir>/public/<model_name>/FP32/1
 - Модели с размером пачки 2 будут в папке <working_dir>/public/<model_name>/FP32/2
 - Модели половинной точности с размером пачки 2 будут в папке 
 <working_dir>/public/<model_name>/FP16/2

## Использование скрипта

Сначала необходимо выполнить запуск скрипта скачивания всех моделей в рабочую
папку скриптом `omz_downloader`, входящим в состав OpenVINO™ Development Tools,
 затем сконвертировать скриптом `model_converter.py`

```bash
omz_downloader --all --output_dir <working_dir> --cache_dir <cache_dir>
```

Общий вид командной строки конвертации:

```bash
python model_converter.py <arguments>
```

Аргументы командной строки:

- `-d / --dir <working_dir>` - рабочая папка с моделями.
- `-z / --zoo_config_dir <path_to_dir_with_model_configs>` - корневая папка с
 конфигурациями для конвертации публичных моделей.
- `b / ` - размеры пачек для конвертации (одно или несколько значений через
 пробел).

Пример запуска в текущем окружении:

```bash
python model_converter.py \
    -d /tmp/ -z C:/_dev/env_dlbench/Lib/site-packages/openvino/model_zoo/models/ \
	-b 1 8
```


<!-- LINKS -->
[openvino-toolkit]: https://software.intel.com/en-us/openvino-toolkit
