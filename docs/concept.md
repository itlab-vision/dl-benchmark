# Цели и задачи

**Цель** - разработать инструмент для оценки производительности
этапа тестирования широко известных глубоких нейронных сетей,
реализованного на базе компонента [Inference Engine][inference-engine],
который входит в состав [OpenVINO toolkit][openvino-toolkit].

**Задачи**

1. Изучить состав OpenVINO toolkit.
1. Установить и настроить OpenVINO toolkit.
1. Научиться использовать компонент Model Downloader.
1. Научиться использовать компонент Model Optimizer.
1. Изучить состав Inference Engine. Запустить примеры
   использования Inference Engine.
1. Изучить программный интерфейс Inference Engine
   для работы с глубокими моделями.
1. Разработать скрипт, который в синхронном режиме позволяет
   запустить тестирование модели.
1. Разработать скрипт, который в асинхронном режиме позволяет
   запустить тестирование модели.
1. Подбор данных для тестирования вывода глубоких моделей.
   Необходимо обратить внимание на следующие моменты:
   - на каком датасете обучена модель,
   - наличие объектов при решении задачи детектирования объектов,
   - предварительное масштабирование изображений и вычитание
     среднего, полученного на обучающей выборке (параметры
	 необходимо указать при конвертации модели во внутреннее
	 представление с использованием Model Optimizer),
   - легальность использования изображений.
1. Разработать скрипт оценки производительности работы модели.
   Скрипт предподагает, что модель и набор входных изображений
   зафиксированы. Скрипт реализует 2 режима:
   - синхронный режим (1 запрос на выполнение вывода),
   - асинхронный режим (более одного запроса на выполнение вывода).

   Входные параметры скрипта:
   - набор входных изображений,
   - размер пакета изображений (batch), обрабатываемого за один
     прямой проход сети,
   - режим замера времени (синхронный или асинхронный),
   - количество параллельных запросов на выполнение вывода
     (только для асинхронного режима),
   - минимальное количество замеров времени,
   - минимальное время выполнения вывода.

   В синхронном режиме скрипт реализует следующий функционал:
   - сбор информации об аппаратных характеристиках системы,
   - цикл по количеству замеров времени, предполагающий
     замер времени начала тестирования модели, тестирование модели,
	 замер времени окончания тестирования модели,
     сохранение времени тестирования модели,
   - отбрасывание выбросов (можно воспользоваться методом
     3 сигма – времена, выходящие за пределы этого интервала
	 откидываются),
   - определение медианы из оставшихся времен (подсчет latency),
   - вычисление FPS (Frame Per Seconds) на базе latency
     c учетом размера пакета изображений (batch).

   В асинхронном режиме скрипт реализует следующий функционал:
   - сбор информации об аппаратных характеристиках системы,
   - цикл по количеству замеров времени, предполагающий замеры
     перед началом и после окончания цикла всех запросов,
   - вычисление FPS (Frame Per Seconds) метрики посредством
     усреднения времени цикла с учетом размера пакет изображений.
1. Разработать приложение, которое обеспечивает копирование тестовых
   данных, загрузку моделей с использованием Model Downloader,
   конвертацию моделей с использованием Model Optimizer,
   оценку производительности каждой модели в синхронном
   и асинхронном режимах, сохрание полученных значений
   характеристик latency и FPS для каждого набора входных условий
   в csv-файл.
1. Разработать скрипт, который обеспечивает удаленный запуск
   скрипта оценки производительности на разных узлах, собирает
   информацию о производительности и формирует csv-файл
   с временными результатами.
1. Выполнить анализ использования (пользователи, сценарии
   использования).
1. Разработать архитектуру системы.
1. Выполнить программную реализацию системы.

# Требования к системе

1. Обеспечить сбор аппаратных характеристик узла.
1. Обеспечить запуск тестовых моделей на наборе входных
   изображений и оценку производительности тестирования.
1. Обеспечить сохранение собранной информации о
   производительности.

# Ограничения

1. На данном этапе предподагается разработать первое решение,
   которое собирает результаты производительности с нескольких
   узлов и сохраняет информацию в csv-файл.
1. Глубокий анализ и разработка архитектуры системы, которая
   обеспечивает хранение и общий доступ к результатам
   производительности, запланированы на следующий этап выполнения
   проекта.

<!-- LINKS -->
[openvino-toolkit]: https://software.intel.com/en-us/openvino-toolkit
[inference-engine]: https://software.intel.com/en-us/articles/OpenVINO-InferEngine
